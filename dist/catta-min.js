!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Catta=e():t.Catta=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return"function"==typeof t}function i(t,e){return Object.keys(t).map(function(n){var o=t[n];return e(o,n)})}function a(t,e){if(t){var n=i(t,function(t,n){if("object"===("undefined"==typeof t?"undefined":f(t))){var o=e?[].concat(e):[];return o.push(n),a(t,o)}if(t=encodeURIComponent(t),e){var r=e[0]+"["+e.slice(1).join("][")+"]["+n+"]";return escape(r)+"="+t}return n+"="+t});return n.join("&")}}function u(t,e){var n=/\?/.test(t);return e.forEach(function(e){void 0!==e&&("object"===("undefined"==typeof e?"undefined":f(e))?i(e,function(e,o){n?t+="&"+o+"="+e:(t+="?"+o+"="+e,n=!0)}):n?t+="&"+e:(t+="?"+e,n=!0))}),t}function c(t,e){if(void 0!==e&&null!==e){if("object"!==("undefined"==typeof e?"undefined":f(e)))return{contentType:s.text,data:e};if(e instanceof HTMLFormElement){if(v.formData&&"post"===t)return{data:new FormData(e)};for(var n={},o=e.elements,r=Array.isArray(o),i=0,o=r?o:o[Symbol.iterator]();;){var u;if(r){if(i>=o.length)break;u=o[i++]}else{if(i=o.next(),i.done)break;u=i.value}var c=u,d=c.name,p=c.tagName,l=c.type,m=c.value,h=(c.files,c.checked),b=c.selectedOptions;if(d){if("post"===t&&"file"===l)throw new Error(y.NOT_SUPPORT("FormData"));if("select-multiple"===l||"select-one"===l)for(var w=b,T=Array.isArray(w),g=0,w=T?w:w[Symbol.iterator]();;){var j;if(T){if(g>=w.length)break;j=w[g++]}else{if(g=w.next(),g.done)break;j=g.value}var E=j;n[d]=E.value}else"checkbox"===l||"radio"===l?h&&(n[d]=m):"INPUT"===p&&(n[d]=m)}}return{contentType:s.simple,data:a(n)}}return{contentType:s.simple,data:a(e)}}}n.d(e,"f",function(){return l}),e.d=u,e.c=c,n.d(e,"e",function(){return y}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return v});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s={simple:"application/x-www-form-urlencoded",multipart:"multipart/form-data",text:"text/plain"},d={method:"get",type:"",timeout:3,resultType:"json",cross:!0,withCookie:!0},p=function(){},l=function(t,e){return e.split(".").every(function(e){if("object"===("undefined"==typeof t?"undefined":f(t))&&t.hasOwnProperty(e))return t=t[e],!0})},m=function(){return"function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return o.forEach(function(t){if(null!=t)for(var n in t)l(t,n)&&(e[n]=t[n])}),e}:Object.assign}();!function(){"function"!=typeof window.Promise&&!function(){var t=function(){this.onResolved.apply(this,arguments)},e=function(){this.onRejected.apply(this,arguments)};window.Promise=function(){function n(r){o(this,n),this.onResolved=this.onRejected=p,r(t.bind(this),e.bind(this))}return n.prototype.then=function(t){this.onResolved=t},n.prototype.catch=function(t){this.onRejected=t},n}()}()}();var y={REQUEST:"[Request Error]: the request was failed, please confirm remote origin is correct",TIMEOUT:"[Timeout Error]: the request has been take over given time",UPLOAD_FILE:"[Upload File Error]: Can't upload file without FormData support",NOT_SUPPORT:function(t){return"["+t+" Not Support]: your browser do not support "+t}},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof t&&(t={target:t}),e?m(d,t):m({},d,t)},v={globalFetch:r(window.fetch),formData:r(window.FormData)}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){return t=n.i(o.a)(t),new Promise(function(e,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(200===i.status){var n=void 0;n="json"===t.resultType?JSON.parse(i.responseText):i.responseText,e(n)}else r(0===i.status?o.e.TIMEOUT:o.e.REQUEST)};var a=n.i(o.c)(t.method,t.data);"get"===t.method&&a&&(t.target=n.i(o.d)(t.target,[a.data])),i.open(t.method.toUpperCase(),t.target),i.timeout=1e3*t.timeout+50,i.withCredentials=t.withCookie,a&&a.contentType&&i.setRequestHeader("Content-Type",a.contentType),"post"===t.method&&a?i.send(a.data):i.send()})}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){return t=n.i(o.a)(t),new Promise(function(e,r){o.b.globalFetch?!function(){var i={};if(i.method=t.method.toUpperCase(),i.mode=t.cross?"cors":"same-origin",i.credentials=t.withCookie?"include":"omit",t.data){var a=n.i(o.c)(t.method,t.data);a&&a.contentType&&(i.headers={"Content-Type":a.contentType}),"post"===t.method?i.body=a.data:t.target=n.i(o.d)(t.target,[a.data])}var u=window.setTimeout(function(){r(o.e.TIMEOUT)},1e3*t.timeout+50);fetch(t.target,i).then(function(n){window.clearTimeout(u);var o=void 0;o="response"===t.resultType?n:"json"===t.resultType?n.json():n.text(),e(o)}).catch(function(t){window.clearTimeout(u),r(o.e.REQUEST,t)})}():r(o.e.NOT_SUPPORT("GlobalFetch"))})}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){return t=n.i(o.a)(t),new Promise(function(e,r){var i=String(Math.random()).replace(".",""),a=n.i(o.f)(t,"jsonp.callbackFuncName")||"jsonp"+i,u=t.target,c=n.i(o.c)("get",t.data),f=document.body||document.head,s=document.createElement("script");s.src=n.i(o.d)(u,[{callback:a},c&&c.data]),s.onerror=function(){r(o.e.REQUEST),window.clearTimeout(d)},f.appendChild(s);var d=window.setTimeout(function(){r(o.e.TIMEOUT)},1e3*t.timeout+50);window[a]=function(){window.clearTimeout(d),e.apply(void 0,arguments),window[a]=void 0,f.removeChild(s)}})}},function(t,e,n){"use strict";function o(t,e){p[t]=e}function r(t){n.i(c.a)(t,!0)}function i(t){return n.i(f.a)(t)}function a(t){return n.i(d.a)(t)}function u(t){return n.i(s.a)(t)}Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),f=n(1),s=n(2),d=n(3);e.customAdapter=o,e.globalConfig=r,e.ajax=i,e.jsonp=a,e.fetch=u;var p={};e.default=function(t){if(t=n.i(c.a)(t),"ajax"===t.type)return n.i(f.a)(t);if("jsonp"===t.type)return n.i(d.a)(t);if("fetch"===t.type)return n.i(s.a)(t);for(var e in p){var o=p[e];if(o.detector(t))return o.processor(t)}return c.b.globalFetch?n.i(s.a)(t):n.i(f.a)(t)}}])});