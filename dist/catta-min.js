!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.catta=e():t.catta=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,n){"use strict";function o(t){return"function"==typeof t}function r(t,e){return Object.keys(t).map(function(n){var o=t[n];return e(o,n)})}function u(t){return t[0].toUpperCase()+t.slice(1)}function i(t,e){if(t){return r(t,function(t,n){if("object"===(void 0===t?"undefined":s(t))){var o=e?[].concat(e):[];return o.push(n),i(t,o)}if(t=encodeURIComponent(t),e){var r=void 0;return r=e.length>1?e[0]+"["+e.slice(1).join("][")+"]["+n+"]":e[0]+"["+n+"]",escape(r)+"="+t}return n+"="+t}).join("&")}}function a(t,e){return e&&(t+=(/\?/.test(t)?"&":"?")+i(e)),t}function c(t,e){if(e instanceof HTMLFormElement){if(!y.formData)throw new Error(utils.throwError("notSupport","FormData").message);return{data:new FormData(e)}}return"object"===(void 0===e?"undefined":s(e))?{contentType:f.form,data:"post"===t?i(e):e}:{contentType:f.text,data:e}}n.d(e,"e",function(){return p}),n.d(e,"f",function(){return l}),e.a=a,e.b=c,n.d(e,"c",function(){return m}),n.d(e,"d",function(){return y});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f={form:"application/x-www-form-urlencoded",json:"application/json",multipart:"multipart/form-data",text:"text/plain"},d={method:"get",type:"",timeout:3,resultType:"json",cross:!0,credential:!0},p=function(){},l=function(t){return t()}(function(){var t={request:"the request was failed, please confirm remote origin is correct",timeout:function(t){return"the request has been take over given time ("+t+")"},uploadFile:"Can't upload file without FormData support",notSupport:function(t){return"Current browser do not support "+t}};return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=o(t[e])?t[e].apply(t,r):t[e];return{name:e,message:"[Catta]["+u(e)+" Error]: "+a}}}),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!y.promise)throw new Error(l("notSupport","Promise").message);return"string"==typeof t&&(e.url=t),"object"===(void 0===t?"undefined":s(t))&&(e=t),n?Object.assign(d,e):Object.assign({},d,e)},y={promise:o(window.Promise),globalFetch:o(window.fetch),formData:o(window.FormData)}},function(t,e,n){"use strict";function o(t,e){p[t]=e}function r(t){c.c(null,t,!0)}function u(t,e){return e=c.c(t,e),Object(s.a)(e)}function i(t,e){return e=c.c(t,e),Object(d.a)(e)}function a(t,e){return e=c.c(t,e),Object(f.a)(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.customAdapter=o,e.globalConfig=r,e.ajax=u,e.jsonp=i,e.fetch=a;var c=n(0),s=n(2),f=n(3),d=n(4),p={};e.default=function(t,e){if(e=c.c(t,e),"ajax"===e.type)return Object(s.a)(e);if("jsonp"===e.type)return Object(d.a)(e);if("fetch"===e.type)return Object(f.a)(e);for(var n in p){var o=p[n];if(o.detector(e))return o.processor(e)}return c.d.globalFetch?Object(f.a)(e):Object(s.a)(e)}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status){var u=void 0;u="json"===t.resultType?JSON.parse(r.responseText):"response"===t.resultType?r.response:r.responseText,e(u)}else n(0===r.status?o.f("timeout",t.timeout+"s"):o.f("request"))};var u=o.b(t.method,t.data);"get"===t.method&&(t.url=o.a(t.url,u.data)),r.open(t.method.toUpperCase(),t.url),r.timeout=1e3*t.timeout+50,r.withCredentials=t.credential,u.contentType&&r.setRequestHeader("Content-Type",u.contentType),t.headers&&Object.keys(t.headers).each(function(e){r.setRequestHeader(e,t.headers[e])}),"post"===t.method?r.send(u.data):r.send()})}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){return new Promise(function(e,n){if(o.d.globalFetch){var r={};if(r.method=t.method.toUpperCase(),r.mode=t.cross?"cors":"same-origin",r.credentials=t.credential?"include":"same-origin",t.data){var u=o.b(t.method,t.data);u.contentType&&(r.headers={"Content-Type":u.contentType}),t.headers&&Object.assign(r.headers,t.headers),"post"===t.method?r.body=t.data:t.url=o.a(t.url,u.data)}var i=window.setTimeout(function(){n(o.f("timeout",t.timeout+"s"))},1e3*t.timeout+50);fetch(t.url,r).then(function(n){window.clearTimeout(i);var o=void 0;o="response"===t.resultType?n:"json"===t.resultType?n.json():n.text(),e(o)}).catch(function(t){window.clearTimeout(i),n(o.f("request"),t)})}else n(o.f("notSupport","GlobalFetch"))})}},function(t,e,n){"use strict";var o=n(0);e.a=function(t){return new Promise(function(e,n){var r=t.jsonp||{},u=String(Math.random()).replace(".",""),i=r.callbackName||"jsonp"+u,a=t.url,c=document.body||document.head,s=document.createElement("script");s.src=o.a(a,Object.assign({callback:i},t.data)),s.onerror=function(){n(o.f("request")),window.clearTimeout(d)},c.appendChild(s);var f=function(){window[i]=o.e,c.removeChild(s)},d=window.setTimeout(function(){f(),n(o.f("timeout",t.timeout+"s"))},1e3*t.timeout+50);window[i]=function(){window.clearTimeout(d),e.apply(void 0,arguments),f()}})}}])});